{"version":3,"file":"playerLog-be49d2b9.js","sources":["src/modules/logs/playerLogWidgets/isGuildMate.js","src/modules/logs/playerLogWidgets/addAttackLink.js","src/modules/logs/playerLogWidgets/addIgnoreLinks.js","src/modules/_dataAccess/daViewCombat.js","src/modules/app/combat/view.js","src/modules/logs/playerLogWidgets/getCombat.js","src/modules/logs/playerLogWidgets/addPvPSummary.js","src/modules/logs/playerLogWidgets/isAllyEnemy.js","src/modules/logs/playerLogWidgets/colorPlayers.js","src/modules/logs/playerLogWidgets/interceptLinks.js","src/modules/logs/playerLogWidgets/processLadder.js","src/modules/logs/playerLogWidgets/addLogWidgets.js","src/modules/logs/playerLogWidgets/changeLabels.js","src/modules/logs/playerLog.js"],"sourcesContent":null,"names":["memberPrm","async","isGuildMate","playerName","currentGuildId","entries","getMembrList","filter","value","isObject","map","key","getKeys","includes","getPlayer","t","getCustomUrlParameter","href","guildTest","name","addAttack","insertHtmlAfterEnd","attackplayerUrl","ignoreLinkHtml","p","doAddIgnore","getTextTrim","withMsg","m","setText","noMsg","r","insertHtmlBeforeEnd","cells","children","daViewCombat","id","callApp","cmd","subcmd","combat_id","appViewCombat","combatPrm","newCache","currentCombatRecord","sevenDays","val","logTime","prepareCache","internal","get","lastCheck","nowSecs","oneDay","filtered","partial","recent","fromEntries","set","getRecent","getCombat","combatId","combatCache","thisCombat","s","parseDateAsTimestamp","newCombat","isPvp","querySelector","combatSelector","notGuildCombat","msgHtml","test","getCombats","exec","result","stat","desc","color","addCommas","highlightSpecials","acc","el","params","updateTd","json","pre","getText","firstChild","parseCombatWinner","summaryDiv","xp_gain","gold_gain","gold_stolen","pvp_prestige_gain","pvp_rating_change","specials","reduce","parseCombat","remove","insertHtmlAfterBegin","insertElement","createDiv","innerHTML","justUsername","obj","username","allyPrm","getAllyEnemy","stats","myStats","_allies","_enemies","isAlly","isEnemy","playerType","a","type","guildMate","ally","enemy","Promise","all","closestTr","rowIndex","byType","style","push","colorLookup","guild","makeStyle","selectors","join","colorPlayers","logTable","playerLinks","querySelectorArray","playerLinkSelector","length","playersToColor","playerStyles","messageHeader","rows","doMsgHeader","classList","add","document","body","createStyle","childText","target","arrayFrom","closestTd","childNodes","getChildNodes","needToParse","btnText","chatSelector","isChat","getValue","getBuffId","nick","thisBuff","buffList","find","buffObj","csvSplit","nicks","toLowerCase","thisNick","intercept","e","msgNodesArray","slice","msg","tip","substring","window","openQuickMsgDialog","parseReply","preventDefault","buffs","ids","b","openQuickBuffByName","parseBuffs","lastLadderReset","ladderRe","pvp","saveLastResetTime","setValue","defLastLadderReset","foundLogTable","onclick","interceptLinks","addIgnoreLink","addAttackLinkToLog","reportLinks","forEach","addIgnoreLinks","trade","withPlayer","gm","addAttackLink","changeLabels","noteSelector","processLadder","combatLinks","notGuild","addPvPSummary","playerLog","addLogColoring","jQueryNotPresent","addLogWidgets"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAKA,IAAIA;AAQWC,eAAeC,EAAYC,GAIxC,OAHIC,MAAqBJ,IACvBA,EARJC,iBACE,OAAOI,QAAcC,GAAa,IAC/BC,OAAO,GAAIC,KAAWC,EAASD,IAC/BE,IAAI,EAAEC,KAASA,GAKJC,WAEAZ,GAAWa,SAASV,GCXpC,MAAMW,EAAaC,GAAM,CAACA,EAAGC,EAAsBD,EAAEE,KAAM,oBACrDC,EAAYjB,OAAQc,EAAGI,KAAU,CAACJ,EAAGI,QAAYjB,EAAYiB;AAEnE,SAASC,GAAWL,EAAGZ,IACrBkB,EAAmBN,EAAG,eAAeO,IAAkBnB,iBCDzD,SAASoB,EAAeC,GACtB,MAAO,YAAYC,IAAcC,EAAYF,mDAG/C,SAASG,GAASH,GAAKI,IACrBC,EAAQ,SAAUD,GAClBP,EAAmBO,EAAG,MAAML,EAAeC,IAG7C,SAASM,GAAON,EAAGO,IACjBC,EAAoBD,EAAEE,MAAM,GAAGC,SAAS,GACtC,wBAAwBX,EAAeC,eChB5B,SAASW,EAAaC,GAEnC,OCJa,SAAoBA,GACjC,OAAOC,EAAQ,CACbC,IAAK,SACLC,OAAQ,OACRC,UAAWJ,IDANK,CAAcL,GEKvB,IAAIM,EACAC;AAEJ,SAASC,GAAoBC,GAAYlC,EAAKmC,IAC5C,MAAe,cAARnC,GAAwBmC,EAAIC,SAAWD,EAAIC,QAAUF,EAY9D5C,eAAe+C,KACb,MAAMC,QAAiBC,EAnBN;AAoBjB,IAAKD,EAAY,MAAO,CAAEE,UAAWC;AACrC,MAAMC,EAASD,EAAU;AACzB,OAAKH,EAASE,WAAaF,EAASE,UAAYE,EAblD,SAAmBJ,GACjB,MAAMJ,EAAYO,EAAU,OAEtBE,EADQjD,EAAQ4C,GACC1C,OAAOgD,EAAQX,GAAqBC,IACrDW,EAAS,IAAKC,EAAYH,GAAWH,UAAWC;AAEtD,OADAM,EAdiB,gBAcDF,GACTA,EAQEG,CAAUV,GAEZA,EAiBMhD,eAAe2D,GAAU7B,EAAG8B,GACpCnB,IACHA,EAAYM;AAEd,MAAMc,QAAoBpB;AAC1B,OAAIoB,EAAYD,IAAaC,EAAYD,GAAUd,QAC1Ce,EAAYD,GApBvB5D,eAAyB8B,EAAG8B,EAAUC,GACpC,MAAMC,QAAmB5B,EAAa0B;AACtC,GAAKE,GAAeA,EAAWC,EAS/B,OARKrB,KACHA,GAAW,IAAKmB,IAElBnB,GAASkB,GAAY,IAChBE,EACHhB,QAASkB,EAAqBvC,EAAYK,EAAEE,MAAM,KAAO,KAE3DyB,EAtCiB,gBAsCDf,IACToB,EAWAG,CAAUnC,EAAG8B,EAAUC,GChDhC,MAGMK,GAASpC,GAAMqC,EAAcC,EAAgBtC,GAC7CuC,GAAiB,GAAIC,MAAc,qBAAqBC,KAAKD,GAC7DE,GAAaxE,OAAQ8B,EAAGwC,KAAa,CACzCxC,EAAGwC,QAAeX,GAAU7B,EAAG,kBAAkB2C,KAAKH,GAAS;AAejE,SAASI,GAAOC,EAAMC,EAAMC,GAC1B,OAAa,IAATF,EACK,GAAGC,kBAAqBC,MAAUC,EAAUH,aAE9C,GAGT,SAASI,GAAkBC,EAAKC,GAC9B,OAAc,KAAVA,EAAG9C,GACE,GAAG6C,qCACRC,EAAGC,OAAO,wBAAwBD,EAAGC,OAAO,cAElC,KAAVD,EAAG9C,GACE,GAAG6C,qCACRC,EAAGC,OAAO,mDACVD,EAAGC,OAAO,mBAEPF,EAYT,SAASG,IAAUrD,EAAGwC,EAASc,IAC7B,MAAOP,EAAOQ,GA1ChB,SAA2BvD,EAAGwC,GAE5B,MADgB,2BAA2BC,KAAKD,GAEvC,CAZG,WAYK,2DAEF,uBAAuBC,KAAKD,GAElC,CAfC,SAeK,qDAER,CAAC,GAAIgB,EAAQxD,EAAEE,MAAM,GAAGuD,aAiCVC,CAAkB1D,EAAGwC,GACpCmB,EAXR,SAAqBL,EAAMP,GACzB,OAAOH,GAAOU,EAAKtD,EAAE4D,QAAS,YAAab,GACvCH,GAAOU,EAAKtD,EAAE6D,UAAW,YAAad,GACtCH,GAAOU,EAAKtD,EAAE8D,YAAa,cAAef,GAC1CH,GAAOU,EAAKtD,EAAE+D,kBAAmB,gBAAiBhB,GAClDH,GAAOU,EAAKtD,EAAEgE,kBAAmB,aAAcjB,GAC/CO,EAAKtD,EAAEiE,SAASC,OAAOjB,GAAmB,IAK3BkB,CAAYb,EAAMP;AACrC/C,EAAEE,MAAM,GAAGuD,WAAWW,SACtBC,EAAqBrE,EAAEE,MAAM,GAAIqD,GACjCe,EAActE,EAAEE,MAAM,GAAIqE,EAAU,CAAEC,UAAWb,KChEnD,MAAMc,GAAgBC,GAAQA,EAAIC;AAElC,IAAIC;AAEJ1G,eAAe2G,KACb,MAAMC,QAAcC,GAAQ;AAC5B,MAAO,CACLC,QAASF,EAAME,QAAQrG,IAAI8F,IAC3BQ,SAAUH,EAAMG,SAAStG,IAAI8F,KAI1BvG,eAAegH,GAAO9G,GAI3B,OAHKwG,KACHA,GAAUC,aAEED,IAASI,QAAQlG,SAASV,GAGnCF,eAAeiH,GAAQ/G,GAI5B,OAHKwG,KACHA,GAAUC,aAEED,IAASK,SAASnG,SAASV,GCL3CF,eAAekH,GAAWC,GACxB,IAAIC,EAAO;AACX,MAAMlH,EAAauB,EAAY0F,IACxBE,EAAWC,EAAMC,SAAeC,QAAQC,IAAI,CACjDxH,EAAYC,GACZ8G,GAAO9G,GACP+G,GAAQ/G;AASV,OAPImH,EACFD,EAAO,QACEE,EACTF,EAAO,OACEG,IACTH,EAAO,SAEF,CACL,qCAAqCM,EAAUP,GAAGQ,SAAW,yCAE7DP,GAIJ,SAASQ,GAAO5C,GAAM6C,EAAOT,IAM3B,OALIpC,EAAIoC,GACNpC,EAAIoC,GAAMU,KAAKD,GAEf7C,EAAIoC,GAAQ,CAACS,GAER7C,EAGT,MAAM+C,GAAc,CAClBC,MAAO,QACPV,KAAM,OACNC,MAAO;AAGT,SAASU,IAAWvH,EAAKwH,IACvB,MAAO,GAAGA,EAAUC,KAAK,kBAAkBJ,GAAYrH,QAG1CV,eAAeoI,GAAaC,GACzC,MAAMC,EAAcC,EAAmBC,EAAoBH;AAC3D,GAA2B,IAAvBC,EAAYG,OAAgB;AAChC,MACMC,SADmBlB,QAAQC,IAAIa,EAAY7H,IAAIyG,MACnB5G,OAAO,GAAI8G,KAAmB,KAATA,GAEjDuB,EADevI,EAAQsI,EAAe1C,OAAO4B,GAAQ,KACzBnH,IAAIwH;AAClCU,EAAaF,UAzDnB,SAAqBJ,GACnB,MAAMO,EAAgBP,EAASQ,KAAK,GAAG7G,MAAM;AACzC4G,GACF7G,EAAoB6G,EAAe,0GAuDnCE,CAAYT,GACZA,EAASU,UAAUC,IAAI,qBACvB5C,EAAc6C,SAASC,KAAMC,EAAYR,EAAaR,KAAK,SC1D/D,MAEMiB,GAAaC,GADG,CAACA,GAAWC,EAAUC,EAAUF,GAAQG,YAChCC,CAAcJ,GAAQ5I,IAAIgB;AAIxD,SAASiI,GAAYL,EAAQM,GAC3B,MAPa,CAACN,GAAWlF,EAAcyF,EAAclC,EAAU2B,IAOxDQ,CAAOR,KAAwB,SAAZM,GACR,UAAZA,GACDG,EAAS,sBAahB,SAASC,GAAUC,GACjB,MAAMC,EAAWC,EAASC,KAAMC,GApBjB,EAACJ,EAAMI,IAAYC,EAASD,EAAQE,OAClD1J,SAAS2J,EAAYP,IAmBsBQ,CAASR,EAAMI;AAC3D,GAAIH,EAAY,OAAOA,EAAS9H,GAalC,SAASsI,GAAUC,GACjB,MAAMrB,OAAEA,GAAWqB,EACbf,EAAUlI,EAAY4H;AACxBK,GAAYL,EAAQM,KACN,UAAZA,KA7BR,SAAoBN,GAClB,MAAMsB,EAAgBvB,GAAUC,GAAQuB,MAAM,EAAG,GAC3CC,EAAMF,EAAcxC,KAAK;AAC/B,IAAI2C,EAAMD;AACNA,EAAIpC,OAAS,MACfqC,EAASD,EAAIE,UAAU,EAAG,KAApB,OAERC,OAAOC,mBAAmBN,EAAc,GAAI,GAAIG,GAuB5CI,CAAW7B,GACXqB,EAAES,kBAEY,SAAZxB,GAlBR,SAAoBe,EAAGrB,GACrB,MAAOnJ,EAAY2K,GAAOzB,GAAUC,GAC9B+B,EAAQ,WAAW3G,KAAKoG;AAC9B,GAAIO,EAAO,CACT,MAAMC,EAAMhB,EAASe,EAAM,IAAI3K,IAAIsJ,IAAWzJ,OAAQgL,GAAMA,GAAGnD,KAAK;AACpEoD,EAAoBrL,EAAYmL,GAChCX,EAAES,kBAaAK,CAAWd,EAAGrB,IClDpB,IAAIoC;AACJ,MAAMC,GAAW;AAEjB,SAASC,GAAI7J,GACX,OAAO4J,GAASnH,KAAKe,EAAQxD,EAAEE,MAAM,KAGvC,SAAS4J,GAAkB9J,GACzB,MAAMgB,EAAUkB,EAAqBvC,EAAYK,EAAEE,MAAM;AACrDc,EAAU2I,KACZI,EAASC,EAAoBhJ,GAC7B2I,GAAkB3I,GCTtB,SAASiJ,GAAc1D,IFqDR,SAAwBA,GACrC2D,EAAQ3D,EAAUoC,IErDlBwB,CAAe5D;AACf,MAAM6D,EAAgBpC,EAAS,iBACzBqC,EAAqBrC,EAAS;AAChCoC,GTQS,SAAwB7D,GACrC,MAAMC,EAAcC,EAAmBC,EAAoBH;AAC3D,GAA2B,IAAvBC,EAAYG,OAAgB;AAChC,MACM2D,EADa9D,EAAY7H,IAAKc,GAAM,CAACA,EAAGmG,EAAUnG,KACzBd,IAAI,EAAEc,EAAGO,KAAO,CAACP,EAAGO,EAAGqC,EAAc,uBAAwBrC;AAC5FsK,EAAY9L,OAAO,IAAMqB,KAAOA,GAAG0K,QAAQ3K,GAC3C0K,EAAY9L,OAAO,IAAMqB,MAAQA,GAAG0K,QAAQxK,GSb1CyK,CAAejE,GAEbyB,EAAS,qBACX1B,GAAaC,GAEX8D,GVRSnM,eAA6BqI,GAC1C,MAAMkE,EAAQhE,EAAmB,4BAA6BF;AAC9D,IAAKkE,EAAM9D,OAAU;AACrB,MAAM+D,EAAaD,EAAM9L,IAAII,UACL2G,QAAQC,IAAI+E,EAAW/L,IAAIQ,KACzCX,OAAO,IAAMmM,MAASA,GAAIJ,QAAQlL,GUI1CuL,CAAcrE,GAEZyB,EAAS,uBCrBA,SAAsBzB,GACnCE,EAAmB,qBAAsBF,GACtCgE,QAASlF,GAAMvF,EAAQ,QAASuF,IACnCoB,EAAmB,4BAA6BF,GAC7CgE,QAASlF,GAAMvF,EAAQ,KAAMuF,IDkB9BwF,CAAatE,GAEXyB,EAAS,qBDHA,SAAuBzB,GACpCoD,GAAkB3B,EAASgC,GACVvD,EAAmBqE,EAAcvE,GACxB5H,IAAIiH,GACLpH,OAAOqL,IACxBU,QAAQT,ICDdiB,CAAcxE,GAEZyB,EAAS,wBLuCA9J,eAA6BqI,GAC1C,MAAMyE,EAAcvE,EAAmB,yBAA0BF;AACjE,GAA2B,IAAvByE,EAAYrE,OAAgB;AAChC,MAEMsE,EAFaD,EAAYrM,IAAIiH,GAAWpH,OAAO4D,IACzBzD,IAAKqB,GAAM,CAACA,EAAGA,EAAEE,MAAM,GAAGsE,YAC5BhG,OAAO+D,WACXmD,QAAQC,IAAIsF,EAAStM,IAAI+D,MACnBlE,OAAO,IAAM8E,KAAUA,GAAQA,EAAKrB,GACpDsI,QAAQlH,IK9ClB6H,CAAc3E,GE5BH,SAAS4E,KACtBC,EAAe,YAAa,GF+Bf,WACb,GAAIC,IAAsB;AAC1B,MAAM9E,EAAWlE,EAAc;AAC3BkE,GAAY0D,GAAc1D,GEjC9B+E","sourceRoot":"https://rawcdn.githack.com/fallenswordhelper/fallenswordhelper/15.24.26"}